{"ast":null,"code":"import _objectSpread from\"C:/Users/pc/git/unifrontendweb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/pc/git/unifrontendweb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable no-unused-vars */ /* eslint-disable react-hooks/exhaustive-deps */import React,{useEffect,useState}from'react';import{Form,useForm}from'../../components/useForm';import*as adminService from\"../../services/adminService\";import{Grid,Paper}from'@material-ui/core';import Controls from'../../components/controls/Controls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var initialFValues={office_location:'',staff_name:'',designation:'',ta_number:'',pmv_date_travel:'',email:'',telephone:'',initial_name:'',date_by_traveller:'',comment_by_supervisor:'',capture_image:''};function Pmv(props){var addOrEdit=props.addOrEdit,recordForEdit=props.recordForEdit;var _useState=useState(adminService.getCurrentUser()),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var validate=function validate(){var fieldValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:values;var temp=_objectSpread({},errors);if('office_location'in fieldValues)temp.office_location=fieldValues.office_location?\"\":\"This field is required.\";if('staff_name'in fieldValues)temp.staff_name=fieldValues.staff_name?\"\":\"This field is required.\";if('designation'in fieldValues)temp.designation=fieldValues.designation?\"\":\"This field is required.\";if('ta_number'in fieldValues)temp.ta_number=fieldValues.ta_number?\"\":\"This field is required.\";if('pmv_date_travel'in fieldValues)temp.pmv_date_travel=fieldValues.pmv_date_travel?\"\":\"This field is required.\";if('email'in fieldValues)temp.email=fieldValues.email?\"\":\"This field is required.\";if('telephone'in fieldValues)temp.telephone=fieldValues.telephone?\"\":\"This field is required.\";if('initial_name'in fieldValues)temp.initial_name=fieldValues.initial_name?\"\":\"This field is required.\";if('date_by_traveller'in fieldValues)temp.date_by_traveller=fieldValues.date_by_traveller?\"\":\"This field is required.\";if('comment_by_supervisor'in fieldValues)temp.comment_by_supervisor=fieldValues.comment_by_supervisor?\"\":\"This field is required.\";if('capture_image'in fieldValues)temp.capture_image=fieldValues.capture_image?\"\":\"This field is required.\";setErrors(_objectSpread({},temp));if(fieldValues===values)return Object.values(temp).every(function(x){return x===\"\";});};var handleSubmit=function handleSubmit(e){e.preventDefault();if(validate()){addOrEdit(values,resetForm);}};var _useForm=useForm(initialFValues,true,validate),values=_useForm.values,setValues=_useForm.setValues,errors=_useForm.errors,setErrors=_useForm.setErrors,handleInputChange=_useForm.handleInputChange,resetForm=_useForm.resetForm;useEffect(function(){if(recordForEdit!==null)setValues(_objectSpread({},recordForEdit));},[recordForEdit]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(Controls.Input,{name:\"office_location\",label:\"Office Location\",value:values.office_location,onChange:handleInputChange,error:errors.office_location}),/*#__PURE__*/_jsx(Controls.Select,{label:\"Staff Name\",name:\"staff_name\",value:values.staff_name,onChange:handleInputChange,options:adminService.getAutorisation(),error:errors.staff_name}),/*#__PURE__*/_jsx(Controls.DatePicker,{label:\"PMV Date Travel\",name:\"pmv_date_travel\",value:values.pmv_date_travel,onChange:handleInputChange}),/*#__PURE__*/_jsx(Controls.Input,{label:\"telephone\",name:\"telephone\",value:values.telephone,onChange:handleInputChange,error:errors.telephone}),/*#__PURE__*/_jsx(Controls.DatePicker,{label:\"Date by Traveller\",name:\"date_by_traveller\",value:values.date_by_traveller,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(Controls.Input,{name:\"designation\",label:\"Designation or Title\",value:values.designation,onChange:handleInputChange,error:errors.designation}),/*#__PURE__*/_jsx(Controls.Input,{name:\"ta_number\",label:\"TA Number\",value:values.ta_number,onChange:handleInputChange,error:errors.ta_number}),/*#__PURE__*/_jsx(Controls.Input,{name:\"ta_nuemailmber\",label:\"Email address\",value:values.email,onChange:handleInputChange,error:errors.email}),/*#__PURE__*/_jsx(Controls.Input,{name:\"initial_name\",label:\"Name Initial\",value:values.initial_name,onChange:handleInputChange,error:errors.initial_name}),/*#__PURE__*/_jsx(Controls.Input,{name:\"comment_by_supervisor\",label:\"Comments by supervisor \",value:values.comment_by_supervisor,onChange:handleInputChange,error:errors.comment_by_supervisor}),/*#__PURE__*/_jsx(Controls.Button,{type:\"submit\",text:\"Transfer\"})]})]})})})});}export default Pmv;","map":{"version":3,"names":["React","useEffect","useState","Form","useForm","adminService","Grid","Paper","Controls","initialFValues","office_location","staff_name","designation","ta_number","pmv_date_travel","email","telephone","initial_name","date_by_traveller","comment_by_supervisor","capture_image","Pmv","props","addOrEdit","recordForEdit","getCurrentUser","currentUser","setCurrentUser","validate","fieldValues","values","temp","errors","setErrors","Object","every","x","handleSubmit","e","preventDefault","resetForm","setValues","handleInputChange","getAutorisation"],"sources":["C:/Users/pc/git/unifrontendweb/src/pages/pmv/Pmv.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Form, useForm } from '../../components/useForm';\r\nimport * as adminService from \"../../services/adminService\";\r\nimport { Grid, Paper } from '@material-ui/core';\r\nimport Controls from '../../components/controls/Controls';\r\n\r\nconst initialFValues = {\r\n    office_location: '',\r\n    staff_name:'',\r\n    designation:'',\r\n    ta_number:'',\r\n    pmv_date_travel: '',\r\n    email: '',\r\n    telephone: '',\r\n    initial_name: '',\r\n    date_by_traveller: '',\r\n    comment_by_supervisor: '',\r\n    capture_image: ''\r\n}\r\n\r\nfunction Pmv(props) {\r\n    const { addOrEdit, recordForEdit } = props;\r\n    const [currentUser, setCurrentUser] = useState(adminService.getCurrentUser());\r\n    \r\n    const validate = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n        if ('office_location' in fieldValues)\r\n            temp.office_location = fieldValues.office_location ? \"\" : \"This field is required.\"\r\n        if ('staff_name' in fieldValues)\r\n            temp.staff_name = fieldValues.staff_name ? \"\" : \"This field is required.\"\r\n        if ('designation' in fieldValues)\r\n            temp.designation = fieldValues.designation ? \"\" : \"This field is required.\"\r\n        if ('ta_number' in fieldValues)\r\n            temp.ta_number = fieldValues.ta_number ? \"\" : \"This field is required.\"\r\n        if ('pmv_date_travel' in fieldValues)\r\n            temp.pmv_date_travel = fieldValues.pmv_date_travel ? \"\" : \"This field is required.\"\r\n        if ('email' in fieldValues)\r\n            temp.email = fieldValues.email ? \"\" : \"This field is required.\"\r\n        if ('telephone' in fieldValues)\r\n            temp.telephone = fieldValues.telephone ? \"\" : \"This field is required.\"\r\n        if ('initial_name' in fieldValues)\r\n            temp.initial_name = fieldValues.initial_name ? \"\" : \"This field is required.\"\r\n        if ('date_by_traveller' in fieldValues)\r\n            temp.date_by_traveller = fieldValues.date_by_traveller ? \"\" : \"This field is required.\"\r\n        if ('comment_by_supervisor' in fieldValues)\r\n            temp.comment_by_supervisor = fieldValues.comment_by_supervisor ? \"\" : \"This field is required.\"\r\n        if ('capture_image' in fieldValues)\r\n            temp.capture_image = fieldValues.capture_image ? \"\" : \"This field is required.\"\r\n        setErrors({\r\n            ...temp\r\n        })\r\n\r\n        if (fieldValues === values)\r\n            return Object.values(temp).every(x => x === \"\")\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        if (validate()) {\r\n            addOrEdit(values, resetForm);\r\n        }\r\n    }\r\n    const {\r\n        values,\r\n        setValues,\r\n        errors,\r\n        setErrors,\r\n        handleInputChange,\r\n        resetForm\r\n    } = useForm(initialFValues, true, validate);\r\n\r\n    useEffect(() => {\r\n        if (recordForEdit !== null)\r\n            setValues({\r\n                ...recordForEdit\r\n            })\r\n    }, [recordForEdit])\r\n\r\n    return (\r\n        <>\r\n            <Paper>\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Grid container>\r\n                        <Grid item xs={6}>\r\n                            <Controls.Input\r\n                                name=\"office_location\"\r\n                                label=\"Office Location\"\r\n                                value={values.office_location}\r\n                                onChange={handleInputChange}\r\n                                error={errors.office_location}\r\n                            />\r\n                            <Controls.Select\r\n                                label=\"Staff Name\"\r\n                                name=\"staff_name\"\r\n                                value={values.staff_name}\r\n                                onChange={handleInputChange}\r\n                                options={adminService.getAutorisation()}\r\n                                error={errors.staff_name}\r\n                            />\r\n                            <Controls.DatePicker \r\n                                label=\"PMV Date Travel\"\r\n                                name=\"pmv_date_travel\"\r\n                                value={values.pmv_date_travel}\r\n                                onChange={handleInputChange}\r\n                            />\r\n                            <Controls.Input \r\n                                label=\"telephone\"\r\n                                name=\"telephone\"\r\n                                value={values.telephone}\r\n                                onChange={handleInputChange}\r\n                                error={errors.telephone}\r\n                            />\r\n                            <Controls.DatePicker \r\n                                label=\"Date by Traveller\"\r\n                                name=\"date_by_traveller\"\r\n                                value={values.date_by_traveller}\r\n                                onChange={handleInputChange}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Controls.Input\r\n                                name=\"designation\"\r\n                                label=\"Designation or Title\"\r\n                                value={values.designation}\r\n                                onChange={handleInputChange}\r\n                                error={errors.designation}\r\n                            />\r\n                            <Controls.Input\r\n                                name=\"ta_number\"\r\n                                label=\"TA Number\"\r\n                                value={values.ta_number}\r\n                                onChange={handleInputChange}\r\n                                error={errors.ta_number}\r\n                            />\r\n                            <Controls.Input\r\n                                name=\"ta_nuemailmber\"\r\n                                label=\"Email address\"\r\n                                value={values.email}\r\n                                onChange={handleInputChange}\r\n                                error={errors.email}\r\n                            />\r\n                            <Controls.Input\r\n                                name=\"initial_name\"\r\n                                label=\"Name Initial\"\r\n                                value={values.initial_name}\r\n                                onChange={handleInputChange}\r\n                                error={errors.initial_name}\r\n                            />\r\n                            <Controls.Input\r\n                                name=\"comment_by_supervisor\"\r\n                                label=\"Comments by supervisor \"\r\n                                value={values.comment_by_supervisor}\r\n                                onChange={handleInputChange}\r\n                                error={errors.comment_by_supervisor}\r\n                            />\r\n                            <Controls.Button\r\n                                type=\"submit\"\r\n                                text=\"Transfer\" />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form> \r\n            </Paper>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Pmv;"],"mappings":"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"},"metadata":{},"sourceType":"module"}