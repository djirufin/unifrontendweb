{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\unifrontendweb\\\\src\\\\pages\\\\Authticate\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Card, Grid, makeStyles, Paper } from '@material-ui/core';\nimport Controls from '../../components/controls/Controls';\nimport { useFormL, Form } from '../../components/useFormL';\nimport { CircularProgress } from '@material-ui/core';\nimport * as authService from '../../services/authService';\nimport image from '../../../public/logoUni';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialValues = {\n  username: '',\n  password: '',\n  loading: false,\n  message: '',\n  checkedB: false\n};\nconst useStyles = makeStyles(theme => ({\n  appMain: {}\n}));\nexport default function Login(props) {\n  _s();\n\n  //const { addOrEdit, recordForEdit } = props\n  const validate = function () {\n    let fieldValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : values;\n    let temp = { ...errors\n    };\n    if ('username' in fieldValues) temp.username = fieldValues.username ? \"\" : \"This field is required.\";\n    if ('password' in fieldValues) temp.password = fieldValues.password ? \"\" : \"This field is required.\";\n    setErrors({ ...temp\n    });\n    if (fieldValues === values) return Object.values(temp).every(x => x === \"\");\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      values.loading = true;\n      authService.login(values.username, values.password).then(() => {\n        props.history.push(\"/dashboard\");\n        window.location.reload();\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        setValues(values.message = resMessage, values.loading = false);\n      });\n    }\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useFormL(initialValues, true, validate); // useEffect(() => {\n  //     if (recordForEdit !== null)\n  //         setValues({\n  //             ...recordForEdit\n  //         })\n  // }, [recordForEdit])\n\n  const img = {\n    gap: '15px',\n    position: 'center',\n    padding: '0px',\n    height: '90px',\n    margin: '0rem'\n  };\n  const paperStyle = {\n    padding: '20px',\n    width: 350,\n    height: '85vh',\n    margin: '50px'\n  };\n  const btnstyle = {\n    margin: '8px 0'\n  };\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.appMain,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: paperStyle,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"LOGIN IN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), values.message && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              role: \"alert\",\n              children: values.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Controls.textField, {\n            label: \"Username\",\n            placeholder: \"Nom utilisateur\",\n            name: \"username\",\n            fullWidth: true,\n            value: values.username,\n            onChange: handleInputChange,\n            error: errors.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(Controls.textField, {\n            label: \"Password\",\n            placeholder: \"Mot de passe\",\n            type: \"password\",\n            name: \"password\",\n            fullWidth: true,\n            value: values.password,\n            onChange: handleInputChange,\n            error: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(Controls.Checkbox, {\n            name: \"checkedB\",\n            label: \"Remember\",\n            checked: values.checkedB,\n            onChange: handleInputChange,\n            value: values.checkedB,\n            ref: c => {\n              values.checkedB = c;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: btnstyle,\n            children: /*#__PURE__*/_jsxDEV(Controls.Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              text: values.loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 58\n              }, this) : 'LOGIN',\n              disabled: values.loading,\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"cdR1lcRIy0W7dFI7OR5Wvv9N0Cc=\", false, function () {\n  return [useFormL, useStyles];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Card","Grid","makeStyles","Paper","Controls","useFormL","Form","CircularProgress","authService","image","initialValues","username","password","loading","message","checkedB","useStyles","theme","appMain","Login","props","validate","fieldValues","values","temp","errors","setErrors","Object","every","x","handleSubmit","e","preventDefault","login","then","history","push","window","location","reload","error","resMessage","response","data","toString","setValues","handleInputChange","resetForm","img","gap","position","padding","height","margin","paperStyle","width","btnstyle","classes","c"],"sources":["C:/Users/pc/Desktop/unifrontendweb/src/pages/Authticate/Login.js"],"sourcesContent":["import React from 'react';\r\nimport { Card, Grid,makeStyles,Paper } from '@material-ui/core'\r\nimport Controls from '../../components/controls/Controls';\r\nimport { useFormL, Form } from '../../components/useFormL';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport * as authService from '../../services/authService';\r\nimport image from '../../../public/logoUni'\r\n\r\nconst initialValues = {\r\n    username: '',\r\n    password: '',\r\n    loading: false,\r\n    message: '',\r\n    checkedB: false\r\n\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    appMain: {\r\n\r\n    }\r\n  }))\r\n\r\nexport default function Login(props) {\r\n    //const { addOrEdit, recordForEdit } = props\r\n\r\n    const validate = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n        if ('username' in fieldValues)\r\n            temp.username = fieldValues.username ? \"\" : \"This field is required.\"\r\n        if ('password' in fieldValues)\r\n            temp.password = fieldValues.password ? \"\" : \"This field is required.\"\r\n        setErrors({\r\n            ...temp\r\n        })\r\n\r\n        if (fieldValues === values)\r\n            return Object.values(temp).every(x => x === \"\")\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (validate()) {\r\n            values.loading = true\r\n                authService.login(values.username, values.password)\r\n                    .then(() => {\r\n                        props.history.push(\"/dashboard\")\r\n                        window.location.reload();\r\n                    },\r\n                    error => {\r\n                        const resMessage = (error.response && \r\n                            error.response.data && \r\n                            error.response.data.message) || \r\n                            error.message || \r\n                            error.toString();\r\n                            \r\n                        setValues(\r\n                            values.message = resMessage,\r\n                            values.loading = false\r\n                        )\r\n                        \r\n                        \r\n                    }\r\n                );\r\n        }\r\n    }\r\n\r\n    const {\r\n        values,\r\n        setValues,\r\n        errors,\r\n        setErrors,\r\n        handleInputChange,\r\n        resetForm\r\n    } = useFormL(initialValues, true, validate);\r\n\r\n    // useEffect(() => {\r\n    //     if (recordForEdit !== null)\r\n    //         setValues({\r\n    //             ...recordForEdit\r\n    //         })\r\n    // }, [recordForEdit])\r\n    const img = {gap: '15px', position:'center', padding:'0px', height: '90px', margin:'0rem'};\r\n    const paperStyle={ padding:'20px', width: 350, height: '85vh', margin: '50px'}\r\n    const btnstyle={margin:'8px 0'}\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            <Form onSubmit={handleSubmit}>\r\n                <div className={classes.appMain}>\r\n                    <Card style={paperStyle}>\r\n                        <Grid align='center'>\r\n                            <img src={image}></img>\r\n                            <h2>LOGIN IN</h2>\r\n                        </Grid>\r\n                        {values.message && (\r\n                            <div className='form-group'>\r\n                                <div className='alert alert-danger' role='alert'>\r\n                                    {values.message}\r\n                                </div>\r\n                            </div>)\r\n                        }\r\n                        <Controls.textField\r\n                            label='Username' \r\n                            placeholder='Nom utilisateur' \r\n                            name='username'\r\n                            fullWidth\r\n                            value={values.username}\r\n                            onChange={handleInputChange}\r\n                            error={errors.username}\r\n                        /><br/><br/>\r\n                        <Controls.textField \r\n                            label='Password' \r\n                            placeholder='Mot de passe'\r\n                            type='password' \r\n                            name='password' \r\n                            fullWidth\r\n                            value={values.password}\r\n                            onChange={handleInputChange}\r\n                            error={errors.password} \r\n                        />\r\n                        <br/><br/>\r\n                        <Controls.Checkbox \r\n                        name='checkedB'\r\n                        label=\"Remember\"\r\n                        checked={values.checkedB}\r\n                        onChange={handleInputChange}\r\n                        value={values.checkedB}\r\n                        ref={c => {\r\n                            values.checkedB = c;\r\n                        }}\r\n                        /><br/><br/>\r\n                        <div style={btnstyle}>\r\n                            <Controls.Button\r\n                                type='submit' \r\n                                variant=\"contained\" \r\n                                text={ values.loading ? (<CircularProgress />) : 'LOGIN'}\r\n                                disabled={values.loading}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            </Form>\r\n        </>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}