{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:8080/api/auth/\";\nconst head = {\n  'Content-Type': 'application/json'\n};\nexport function authHeader() {\n  const user = JSON.parse(localStorage.getItem('user'));\n\n  if (user && user.accessToken) {\n    return {\n      Authorization: 'Bearer ' + user.accessToken\n    };\n  } else {\n    return {};\n  }\n}\nexport function login(username, password) {\n  return axios.post(API_URL + \"signin\", username, password, {\n    headers: head\n  }).then(res => {\n    if (res.data.accessToken) {\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\n    }\n\n    return res.data;\n  });\n}\nexport function logout() {\n  localStorage.removeItem(\"user\");\n}","map":{"version":3,"names":["axios","API_URL","head","authHeader","user","JSON","parse","localStorage","getItem","accessToken","Authorization","login","username","password","post","headers","then","res","data","setItem","stringify","logout","removeItem"],"sources":["C:/Users/pc/Desktop/testoryc/src/services/authService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:8080/api/auth/\";\r\nconst head = {\r\n    'Content-Type': 'application/json'\r\n}\r\n\r\nexport function authHeader() {\r\n    const user = JSON.parse(localStorage.getItem('user'))\r\n\r\n    if(user && user.accessToken) {\r\n        return { Authorization : 'Bearer ' + user.accessToken};\r\n    } else {\r\n        return {}\r\n    }\r\n}\r\n\r\nexport function login(username, password) {\r\n    return axios\r\n        .post(API_URL + \"signin\", username, password, {headers: head})\r\n        .then(res => {\r\n            if(res.data.accessToken) {\r\n                localStorage.setItem(\"user\", JSON.stringify(res.data))\r\n            }\r\n            return res.data;\r\n        });\r\n}\r\n\r\nexport function logout() {\r\n    localStorage.removeItem(\"user\");\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,iCAAhB;AACA,MAAMC,IAAI,GAAG;EACT,gBAAgB;AADP,CAAb;AAIA,OAAO,SAASC,UAAT,GAAsB;EACzB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;;EAEA,IAAGJ,IAAI,IAAIA,IAAI,CAACK,WAAhB,EAA6B;IACzB,OAAO;MAAEC,aAAa,EAAG,YAAYN,IAAI,CAACK;IAAnC,CAAP;EACH,CAFD,MAEO;IACH,OAAO,EAAP;EACH;AACJ;AAED,OAAO,SAASE,KAAT,CAAeC,QAAf,EAAyBC,QAAzB,EAAmC;EACtC,OAAOb,KAAK,CACPc,IADE,CACGb,OAAO,GAAG,QADb,EACuBW,QADvB,EACiCC,QADjC,EAC2C;IAACE,OAAO,EAAEb;EAAV,CAD3C,EAEFc,IAFE,CAEGC,GAAG,IAAI;IACT,IAAGA,GAAG,CAACC,IAAJ,CAAST,WAAZ,EAAyB;MACrBF,YAAY,CAACY,OAAb,CAAqB,MAArB,EAA6Bd,IAAI,CAACe,SAAL,CAAeH,GAAG,CAACC,IAAnB,CAA7B;IACH;;IACD,OAAOD,GAAG,CAACC,IAAX;EACH,CAPE,CAAP;AAQH;AAED,OAAO,SAASG,MAAT,GAAkB;EACrBd,YAAY,CAACe,UAAb,CAAwB,MAAxB;AACH"},"metadata":{},"sourceType":"module"}