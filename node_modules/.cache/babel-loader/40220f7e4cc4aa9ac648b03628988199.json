{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\testoryc\\\\src\\\\pages\\\\Associations\\\\dashboard\\\\dashboard.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Header from '../../../components/Header';\nimport SideMenu from '../../../components/SideMenu';\nimport * as authService from '../../../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: null,\n      userReady: true,\n      currentUser: {\n        username: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = authService.getCurrentUser();\n\n    if (!currentUser) {\n      this.setState({\n        redirect: \"/\"\n      });\n      this.setState({\n        currentUser: currentUser,\n        userReady: false\n      });\n    }\n\n    console.log(\"ICI \", currentUser);\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: this.state.redirect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 20\n      }, this);\n    }\n\n    const {\n      currentUser,\n      userReady\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: userReady ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(SideMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }, this) : null\n    }, void 0, false);\n  }\n\n} // export default function dashboard(props) {\n//     const [redirect, setRedirect] = useState(null)\n//     const [userReady, setUserReady] = useState(false)\n//     const [currentUser, setCurrentUser] = useState(\"\")\n//     const getUser = () => {\n//         authService.getCurrentUser()\n//         .then((res) => {\n//             setCurrentUser(res.data)\n//         });\n//     }\n//     useEffect(() => {\n//         getUser();\n//     }, []);\n//     if(!currentUser) {\n//         setRedirect(\"/\")\n//         setUserReady(true)\n//         setCurrentUser(currentUser)\n//     }\n//     if(redirect) {\n//         return <Redirect to={redirect} />\n//     }\n//     return (\n//         <>\n//             {(userReady) ?\n//             <div> \n//                 <SideMenu />\n//                 <Header />\n//             </div>\n//             : null}  \n//         </>\n//     );\n// };","map":{"version":3,"names":["React","Component","Redirect","Header","SideMenu","authService","dashboard","constructor","props","state","redirect","userReady","currentUser","username","componentDidMount","getCurrentUser","setState","console","log","render"],"sources":["C:/Users/pc/Desktop/testoryc/src/pages/Associations/dashboard/dashboard.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Header from '../../../components/Header';\r\nimport SideMenu from '../../../components/SideMenu';\r\nimport * as authService from '../../../services/authService'\r\n\r\n\r\nexport default class dashboard extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            redirect: null,\r\n            userReady: true,\r\n            currentUser: {username : \"\"}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const currentUser = authService.getCurrentUser();\r\n\r\n        if(!currentUser) {\r\n            this.setState({ redirect : \"/\"});\r\n            this.setState({ currentUser: currentUser, userReady: false})\r\n        }\r\n        console.log(\"ICI \",currentUser)\r\n    }\r\n\r\n    render() {\r\n        if(this.state.redirect) {\r\n            return <Redirect to={this.state.redirect} />\r\n        }\r\n\r\n        const { currentUser, userReady } = this.state;\r\n        \r\n        return(\r\n            <>\r\n                {(userReady) ?\r\n                    <div> \r\n                        <SideMenu />\r\n                        <Header />\r\n                    </div>\r\n                : null}  \r\n            </>\r\n        )\r\n    }\r\n        \r\n}\r\n    \r\n\r\n// export default function dashboard(props) {\r\n\r\n//     const [redirect, setRedirect] = useState(null)\r\n//     const [userReady, setUserReady] = useState(false)\r\n//     const [currentUser, setCurrentUser] = useState(\"\")\r\n\r\n//     const getUser = () => {\r\n//         authService.getCurrentUser()\r\n//         .then((res) => {\r\n//             setCurrentUser(res.data)\r\n//         });\r\n//     }\r\n\r\n//     useEffect(() => {\r\n//         getUser();\r\n//     }, []);\r\n\r\n//     if(!currentUser) {\r\n//         setRedirect(\"/\")\r\n//         setUserReady(true)\r\n//         setCurrentUser(currentUser)\r\n//     }\r\n//     if(redirect) {\r\n//         return <Redirect to={redirect} />\r\n//     }\r\n//     return (\r\n//         <>\r\n//             {(userReady) ?\r\n//             <div> \r\n//                 <SideMenu />\r\n//                 <Header />\r\n//             </div>\r\n//             : null}  \r\n//         </>\r\n//     );\r\n// };"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAO,KAAKC,WAAZ,MAA6B,+BAA7B;;;AAGA,eAAe,MAAMC,SAAN,SAAwBL,SAAxB,CAAkC;EAC7CM,WAAW,CAACC,KAAD,EAAO;IACd,MAAMA,KAAN;IAEA,KAAKC,KAAL,GAAa;MACTC,QAAQ,EAAE,IADD;MAETC,SAAS,EAAE,IAFF;MAGTC,WAAW,EAAE;QAACC,QAAQ,EAAG;MAAZ;IAHJ,CAAb;EAKH;;EAEDC,iBAAiB,GAAG;IAChB,MAAMF,WAAW,GAAGP,WAAW,CAACU,cAAZ,EAApB;;IAEA,IAAG,CAACH,WAAJ,EAAiB;MACb,KAAKI,QAAL,CAAc;QAAEN,QAAQ,EAAG;MAAb,CAAd;MACA,KAAKM,QAAL,CAAc;QAAEJ,WAAW,EAAEA,WAAf;QAA4BD,SAAS,EAAE;MAAvC,CAAd;IACH;;IACDM,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBN,WAAnB;EACH;;EAEDO,MAAM,GAAG;IACL,IAAG,KAAKV,KAAL,CAAWC,QAAd,EAAwB;MACpB,oBAAO,QAAC,QAAD;QAAU,EAAE,EAAE,KAAKD,KAAL,CAAWC;MAAzB;QAAA;QAAA;QAAA;MAAA,QAAP;IACH;;IAED,MAAM;MAAEE,WAAF;MAAeD;IAAf,IAA6B,KAAKF,KAAxC;IAEA,oBACI;MAAA,UACME,SAAD,gBACG;QAAA,wBACI,QAAC,QAAD;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI,QAAC,MAAD;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADH,GAKC;IANN,iBADJ;EAUH;;AAtC4C,C,CA2CjD;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}