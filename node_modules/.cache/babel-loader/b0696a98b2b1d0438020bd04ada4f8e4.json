{"ast":null,"code":"import _objectSpread from\"C:/Users/pc/Desktop/unifrontendweb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import{Grid}from'@material-ui/core';import Controls from\"../../components/controls/Controls\";import{Form,useForm}from'../../components/useForm';import*as feeService from'../../services/feeService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFValues={eglise:'',cota:'',name:'',telephone:'',username:'',password:'',autorisation:''};export default function RegionForm(props){var addOrEdit=props.addOrEdit,recordForEdit=props.recordForEdit;var validate=function validate(){var fieldValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:values;var temp=_objectSpread({},errors);if('eglise'in fieldValues)temp.eglise=fieldValues.eglise?\"\":\"This field is required.\";if('cota'in fieldValues)temp.cota=fieldValues.cota?\"\":\"This field is required.\";if('name'in fieldValues)temp.name=fieldValues.name?\"\":\"This field is required.\";if('telephone'in fieldValues)temp.telephone=fieldValues.telephone.length>9?\"\":\"Minimum 10 numbers required.\";if('username'in fieldValues)temp.username=fieldValues.username?\"\":\"Email is not valid.\";if('password'in fieldValues)temp.password=fieldValues.password?\"\":\"This field is required.\";if('autorisation'in fieldValues)temp.autorisation=fieldValues.autorisation?\"\":\"This field is required.\";setErrors(_objectSpread({},temp));if(fieldValues===values)return Object.values(temp).every(function(x){return x===\"\";});};var _useForm=useForm(initialFValues,true,validate),values=_useForm.values,setValues=_useForm.setValues,errors=_useForm.errors,setErrors=_useForm.setErrors,handleInputChange=_useForm.handleInputChange,resetForm=_useForm.resetForm;var handleSubmit=function handleSubmit(e){e.preventDefault();if(validate()){addOrEdit(values,resetForm);}};useEffect(function(){if(recordForEdit!==null)setValues(_objectSpread({},recordForEdit));},[recordForEdit]);return/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(Controls.Input,{name:\"eglise\",label:\"eglise\",value:values.eglise,onChange:handleInputChange,error:errors.eglise}),/*#__PURE__*/_jsx(Controls.Input,{label:\"Montant Cotisation\",name:\"cota\",value:values.cota,onChange:handleInputChange,error:errors.cota}),/*#__PURE__*/_jsx(Controls.Input,{label:\"Nom & prenom\",name:\"name\",value:values.name,onChange:handleInputChange,error:errors.name}),/*#__PURE__*/_jsx(Controls.Input,{name:\"telephone\",label:\"Telephone\",value:values.telephone,onChange:handleInputChange,error:errors.telephone})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(Controls.Input,{name:\"username\",label:\"Nom utilisateur\",value:values.username,onChange:handleInputChange,error:errors.username}),/*#__PURE__*/_jsx(Controls.Input,{name:\"password\",type:\"password\",label:\"Mot de passe\",value:values.password,onChange:handleInputChange,error:errors.password}),/*#__PURE__*/_jsx(Controls.Select,{label:\"Role\",name:\"autorisation\",value:values.autorisation,onChange:handleInputChange,options:feeService.getAutorisation(),error:errors.autorisation}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Controls.Button,{type:\"submit\",text:\"VALIDATION\"}),/*#__PURE__*/_jsx(Controls.Button,{text:\"REDEFINIR\",color:\"default\",onClick:resetForm})]})]})]})});}","map":{"version":3,"names":["React","useEffect","Grid","Controls","Form","useForm","feeService","initialFValues","eglise","cota","name","telephone","username","password","autorisation","RegionForm","props","addOrEdit","recordForEdit","validate","fieldValues","values","temp","errors","length","setErrors","Object","every","x","setValues","handleInputChange","resetForm","handleSubmit","e","preventDefault","getAutorisation"],"sources":["C:/Users/pc/Desktop/unifrontendweb/src/pages/regions/RegionForm.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Grid, } from '@material-ui/core';\nimport Controls from \"../../components/controls/Controls\";\nimport { Form, useForm } from '../../components/useForm';\nimport * as feeService from '../../services/feeService'\n\n\nconst initialFValues = {\n    eglise:'',\n    cota:'',\n    name: '',\n    telephone: '',\n    username: '',\n    password: '',\n    autorisation: '',\n}\n\nexport default function RegionForm(props) {\n    const { addOrEdit, recordForEdit } = props\n\n    const validate = (fieldValues = values) => {\n        let temp = { ...errors }\n        if ('eglise' in fieldValues)\n            temp.eglise = fieldValues.eglise ? \"\" : \"This field is required.\"\n        if ('cota' in fieldValues)\n            temp.cota = fieldValues.cota ? \"\" : \"This field is required.\"\n        if ('name' in fieldValues)\n            temp.name = fieldValues.name ? \"\" : \"This field is required.\"\n        if ('telephone' in fieldValues)\n            temp.telephone = fieldValues.telephone.length > 9 ? \"\" : \"Minimum 10 numbers required.\"\n        if ('username' in fieldValues)\n            temp.username = fieldValues.username ? \"\" : \"Email is not valid.\"\n        if ('password' in fieldValues)\n            temp.password = fieldValues.password ? \"\" : \"This field is required.\"\n        if ('autorisation' in fieldValues)\n            temp.autorisation = fieldValues.autorisation ? \"\" : \"This field is required.\"\n        setErrors({\n            ...temp\n        })\n\n        if (fieldValues === values)\n            return Object.values(temp).every(x => x === \"\")\n    }\n\n    const {\n        values,\n        setValues,\n        errors,\n        setErrors,\n        handleInputChange,\n        resetForm\n    } = useForm(initialFValues, true, validate);\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        if (validate()) {\n            addOrEdit(values, resetForm);\n        }\n    }\n\n    useEffect(() => {\n        if (recordForEdit !== null)\n            setValues({\n                ...recordForEdit\n            })\n    }, [recordForEdit])\n\n    return (\n        <Form onSubmit={handleSubmit}>\n            <Grid container>\n            <Grid item xs={6}>\n                    <Controls.Input\n                        name=\"eglise\"\n                        label=\"eglise\"\n                        value={values.eglise}\n                        onChange={handleInputChange}\n                        error={errors.eglise}\n                    />\n                    <Controls.Input\n                        label=\"Montant Cotisation\"\n                        name=\"cota\"\n                        value={values.cota}\n                        onChange={handleInputChange}\n                        error={errors.cota}\n                    />\n                    <Controls.Input\n                        label=\"Nom & prenom\"\n                        name=\"name\"\n                        value={values.name}\n                        onChange={handleInputChange}\n                        error={errors.name}\n                    />\n                    <Controls.Input\n                        name=\"telephone\"\n                        label=\"Telephone\"\n                        value={values.telephone}\n                        onChange={handleInputChange}\n                        error={errors.telephone}\n                    />\n                </Grid>\n                <Grid item xs={6}>\n                    <Controls.Input\n                        name=\"username\"\n                        label=\"Nom utilisateur\"\n                        value={values.username}\n                        onChange={handleInputChange}\n                        error={errors.username}\n                    />\n                    <Controls.Input\n                        name=\"password\"\n                        type=\"password\"\n                        label=\"Mot de passe\"\n                        value={values.password}\n                        onChange={handleInputChange}\n                        error={errors.password}\n                    />\n                    <Controls.Select\n                        label=\"Role\"\n                        name=\"autorisation\"\n                        value={values.autorisation}\n                        onChange={handleInputChange}\n                        options={feeService.getAutorisation()}\n                        error={errors.autorisation}\n                    />\n                    <div>\n                        <Controls.Button\n                            type=\"submit\"\n                            text=\"VALIDATION\" />\n                        <Controls.Button\n                            text=\"REDEFINIR\"\n                            color=\"default\"\n                            onClick={resetForm} />\n                    </div>\n                </Grid>\n            </Grid>\n        </Form>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}