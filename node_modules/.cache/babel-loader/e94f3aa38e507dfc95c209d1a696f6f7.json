{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\git\\\\unifrontendweb\\\\src\\\\pages\\\\Authticate\\\\Login.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable react/jsx-pascal-case */\n\n/* eslint-disable jsx-a11y/alt-text */\nimport React from 'react';\nimport { Grid, Paper } from '@material-ui/core';\nimport Controls from '../../components/controls/Controls';\nimport { useFormL, Form } from '../../components/useFormL';\nimport { CircularProgress } from '@material-ui/core';\nimport * as authService from '../../services/authService';\nimport { data } from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialValues = {\n  username: '',\n  password: '',\n  loading: false,\n  message: '',\n  checkedB: false\n};\nexport default function Login(props) {\n  _s();\n\n  //const { addOrEdit, recordForEdit } = props\n  const validate = function () {\n    let fieldValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : values;\n    let temp = { ...errors\n    };\n    if ('username' in fieldValues) temp.username = fieldValues.username ? \"\" : \"This field is required.\";\n    if ('password' in fieldValues) temp.password = fieldValues.password ? \"\" : \"This field is required.\";\n    setErrors({ ...temp\n    });\n    if (fieldValues === values) return Object.values(temp).every(x => x === \"\");\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      values.loading = true;\n      authService.login(values.username, values.password).then(() => {\n        props.history.push(\"/dashboard\");\n        window.location.reload();\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        setValues(values.message = resMessage, values.loading = false);\n      });\n    }\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useFormL(initialValues, true, validate); // useEffect(() => {\n  //     if (recordForEdit !== null)\n  //         setValues({\n  //             ...recordForEdit\n  //         })\n  // }, [recordForEdit])\n\n  const img = {\n    position: 'center',\n    height: '80px'\n  };\n  const paperStyle = {\n    padding: '15px',\n    height: '75vh',\n    width: 250,\n    margin: \"3rem\",\n    justifyContent: 'center',\n    flex: 1\n  };\n  const btnstyle = {\n    margin: '8px 0'\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        align: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          style: paperStyle,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              style: img,\n              src: 'logoUni.jpg'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"LOGIN IN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), values.message && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              role: \"alert\",\n              children: values.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Controls.textField, {\n            label: \"Username\",\n            placeholder: \"Nom utilisateur\",\n            name: \"username\",\n            fullWidth: true,\n            value: values.username,\n            onChange: handleInputChange,\n            error: errors.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(Controls.textField, {\n            label: \"Password\",\n            placeholder: \"Mot de passe\",\n            type: \"password\",\n            name: \"password\",\n            fullWidth: true,\n            value: values.password,\n            onChange: handleInputChange,\n            error: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(Controls.Checkbox, {\n            name: \"checkedB\",\n            label: \"Remember\",\n            checked: values.checkedB,\n            onChange: handleInputChange,\n            value: values.checkedB,\n            ref: c => {\n              values.checkedB = c;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: btnstyle,\n            children: /*#__PURE__*/_jsxDEV(Controls.Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              text: values.loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 58\n              }, this) : 'LOGIN',\n              disabled: values.loading,\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"VusXcJZTOphjFvnMG8SuhisUaMg=\", false, function () {\n  return [useFormL];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Grid","Paper","Controls","useFormL","Form","CircularProgress","authService","data","initialValues","username","password","loading","message","checkedB","Login","props","validate","fieldValues","values","temp","errors","setErrors","Object","every","x","handleSubmit","e","preventDefault","login","then","history","push","window","location","reload","error","resMessage","response","toString","setValues","handleInputChange","resetForm","img","position","height","paperStyle","padding","width","margin","justifyContent","flex","btnstyle","c"],"sources":["C:/Users/pc/git/unifrontendweb/src/pages/Authticate/Login.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/jsx-pascal-case */\r\n/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport { Grid,Paper } from '@material-ui/core'\r\nimport Controls from '../../components/controls/Controls';\r\nimport { useFormL, Form } from '../../components/useFormL';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport * as authService from '../../services/authService'\r\nimport { data } from 'jquery';\r\n\r\nconst initialValues = {\r\n    username: '',\r\n    password: '',\r\n    loading: false,\r\n    message: '',\r\n    checkedB: false\r\n\r\n}\r\n\r\nexport default function Login(props) {\r\n    //const { addOrEdit, recordForEdit } = props\r\n\r\n    const validate = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n        if ('username' in fieldValues)\r\n            temp.username = fieldValues.username ? \"\" : \"This field is required.\"\r\n        if ('password' in fieldValues)\r\n            temp.password = fieldValues.password ? \"\" : \"This field is required.\"\r\n        setErrors({\r\n            ...temp\r\n        })\r\n\r\n        if (fieldValues === values)\r\n            return Object.values(temp).every(x => x === \"\")\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (validate()) {\r\n            values.loading = true\r\n                authService.login(values.username, values.password)\r\n                    .then(() => {\r\n                        props.history.push(\"/dashboard\")\r\n                        window.location.reload();\r\n                    },\r\n                    error => {\r\n                        const resMessage = (error.response && \r\n                            error.response.data && \r\n                            error.response.data.message) || \r\n                            error.message || \r\n                            error.toString();\r\n                            \r\n                        setValues(\r\n                            values.message = resMessage,\r\n                            values.loading = false\r\n                        )\r\n                        \r\n                        \r\n                    }\r\n                );\r\n        }\r\n    }\r\n\r\n    const {\r\n        values,\r\n        setValues,\r\n        errors,\r\n        setErrors,\r\n        handleInputChange,\r\n        resetForm\r\n    } = useFormL(initialValues, true, validate);\r\n\r\n    // useEffect(() => {\r\n    //     if (recordForEdit !== null)\r\n    //         setValues({\r\n    //             ...recordForEdit\r\n    //         })\r\n    // }, [recordForEdit])\r\n    const img = {position:'center', height: '80px'};\r\n    const paperStyle={ padding:'15px', height:'75vh', width:250, margin:\"3rem\", justifyContent: 'center', flex:1}\r\n    const btnstyle={margin:'8px 0'}\r\n\r\n    return (\r\n        <>\r\n            <Form onSubmit={handleSubmit}>\r\n                <div align='center'>\r\n                    <Paper style={paperStyle}>\r\n                        <Grid align='center'>\r\n                            <img style={img} src={'logoUni.jpg'} />\r\n                            <h4>LOGIN IN</h4>\r\n                        </Grid>\r\n                        {values.message && (\r\n                            <div className='form-group'>\r\n                                <div className='alert alert-danger' role='alert'>\r\n                                    {values.message}\r\n                                </div>\r\n                            </div>)\r\n                        }\r\n                        <Controls.textField\r\n                            label='Username' \r\n                            placeholder='Nom utilisateur' \r\n                            name='username'\r\n                            fullWidth\r\n                            value={values.username}\r\n                            onChange={handleInputChange}\r\n                            error={errors.username}\r\n                        /><br/><br/>\r\n                        <Controls.textField \r\n                            label='Password' \r\n                            placeholder='Mot de passe'\r\n                            type='password' \r\n                            name='password' \r\n                            fullWidth\r\n                            value={values.password}\r\n                            onChange={handleInputChange}\r\n                            error={errors.password} \r\n                        />\r\n                        <br/><br/>\r\n                        <Controls.Checkbox \r\n                        name='checkedB'\r\n                        label=\"Remember\"\r\n                        checked={values.checkedB}\r\n                        onChange={handleInputChange}\r\n                        value={values.checkedB}\r\n                        ref={c => {\r\n                            values.checkedB = c;\r\n                        }}\r\n                        /><br/><br/>\r\n                        <div style={btnstyle}>\r\n                            <Controls.Button\r\n                                type='submit' \r\n                                variant=\"contained\" \r\n                                text={ values.loading ? (<CircularProgress />) : 'LOGIN'}\r\n                                disabled={values.loading}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </Paper>\r\n                </div>\r\n            </Form>\r\n        </>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}